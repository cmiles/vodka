v2:~(|package @vector ~(_template ^<`Vector`> (|%<`y`>0 %<`x`>0 &" newx%"(|<`set-x`>~(_set @<`x`>self @newx_)|) &" newy%"(|<`set-y`>~(_set @<`y`>self @newy_)|) &" theta%"(|<`rotate`>~(_let @newx ~(_- ~(_::ti:: @<`x`>self ~(_cos @theta_)_) ~(_::ti:: @<`y`>self ~(_sin @theta_)_)_)_) ~(_let @newy ~(_::pl:: ~(_::ti:: @<`x`>self ~(_sin @theta_)_) ~(_::ti:: @<`y`>self ~(_cos @theta_)_)_)_) ~(_instantiate ^<`Vector`> @newx @newy_)|) &" vec"(|<`add`>~(_let @sumx ~(_::pl:: @<`x`>vec @<`x`>self_)_) ~(_let @sumy ~(_::pl:: @<`y`>vec @<`y`>self_)_) ~(_instantiate ^<`Vector`> @sumx @sumy_)|) &(|<`magnitude`>~(_square-root ~(_::pl:: ~(_power @<`x`>self %2_) ~(_power @<`y`>self %2_)_)_)|) &" x y"(|<`:init`>~(_@<`set-x`>self @x_) ~(_@<`set-y`>self @y_)|)|)_)|)