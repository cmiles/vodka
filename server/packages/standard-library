v2:~"v"(begin ~(bind @flatten &" nex|v"(~"v"(if ~(and ~(is-list @nex) ~(is-empty @nex)) @nex ~"v"(begin ~(bind @first ~(car @nex)) ~(bind @rest ~(cdr @nex)) ~"v"(if ~(is-list @first) ~"v"(if ~(is-empty @first) ~(flatten @rest) ~(flatten ~"v"(cons ~(car @first) ~"v"(cons ~(cdr @first) @rest)))) ~"v"(cons @first ~(flatten ~(cdr @nex)))))))))