~"run"v( ~"bind"h( @menu &""v( { @start-changing-background @start-osc-alpha @start-osc-hue @start-osc-hue-change-bg}&)~) ~"bind"h( @help @menu~) ~"bind"h( @start-changing-background &" nex"v( ~"do-on-every"v( &" n"v( ~"random-background-color"h( @n~)&) @nex ~"fudge-interval"h( #100~)~)&)~) ~"bind"h( @start-osc-alpha &" letter"v( ~"do-with-param-on-every"v( &" letter param"v( ~"alpha"h( @letter ~"+"h( %.5 ~"*"h( %.5 ~"sin"h( ~"to-float"h( @param~)~)~)~)~)&) @letter ~"fudge-interval"h( #100~)~)&)~) ~"bind"h( @start-osc-hue &" letter"v( ~"do-with-param-on-every"v( &" letter param"v( ~"let"h( @h ~"modulo"h( @param #256~)~) ~"set-nex-style"v( $"color" ~"string-cat"h( $"hsl(" ~"to-string"h( @h~) $", 50%, 50%)"~) @letter~)&) @letter ~"fudge-interval"h( #100~)~)&)~) ~"bind"h( @start-osc-hue-change-bg &" letter"v( ~"do-with-param-on-every"v( &" nex param"v( ~"let"h( @h ~"modulo"h( @param #256~)~) ~"let"h( @ss ~"string-cat"v( $"color:" ~"string-cat"h( $"hsl(" ~"to-string"h( @h~) $", 50%, 50%)"~) $";" $"background-color:" ~"string-cat"h( $"rgb(" ~"to-string"h( ~"random-in-between"h( #0 #255~)~) $"," ~"to-string"h( ~"random-in-between"h( #0 #255~)~) $"," ~"to-string"h( ~"random-in-between"h( #0 #255~)~) $")"~)~)~) ~"apply-style-to"h( @ss @nex~)&) @letter ~"fudge-interval"h( #100~)~)&)~) ~"bind"v( @change-poem &" poem"v( ~"ff-stop"h(~) ~"chop"h( @frame~) ~"cram"h( ~"format-poem"h( @poem~) @frame~)&)~) ~"bind"v( @letter-function &" letter"v( ~"start-changing-background"h( @letter~)&)~) ~"bind"v( @format-poem &" poem"v( ~"do-for-each-letter"v( @letter-function ~"justify-doc"h( @poem #799~)~)&)~) ~"bind"v( @change-letter-function &" f"v( ~"bind"v( @letter-function @f~)&)~) ~"bind"h( @poems { { [ ( |(A)|) |( )| ( |(r)| |(e)| |(d)|) |( )| ( |(w)| |(h)| |(e)| |(e)| |(l)| |(b)| |(a)| |(r)| |(r)| |(o)| |(w)|)] [ |[&nbsp;]| ( |(w)| |(i)| |(t)| |(h)|) |( )| ( |(a)|) |( )| ( |(b)| |(o)| |(o)| |(m)|) |( )| ( |(b)| |(o)| |(x)|) |( )| ( |(i)| |(n)|) |( )| ( |(i)| |(t)|) |(.)|] [ |[&nbsp;]| ( |(B)| |(a)| |(t)| |(t)| |(e)| |(r)| |(i)| |(e)| |(s)|)] [ |[&nbsp;]| ( |(a)| |(r)| |(e)|) |( )| ( |(i)| |(m)| |(p)| |(o)| |(r)| |(t)| |(a)| |(n)| |(t)|) |(.)|]}}~) ~"import"h( @style-functions~) ~"import"h( @util-functions~) ~"import"h( @string-functions~) ~"import"h( @animation-functions~) ~"import"h( @layout-functions~) ~"bind"h( @do-for-each-line &" f doc"v( ~"move-contents-to-doc"v( ~"do-for-each"h( @f @doc~)~)&)~) ~"bind"h( @do-for-each-letter &" f doc"v( ~"move-contents-to-doc"v( ~"do-for-each"h( &" line"v( ~"let"h( @dst ~"apply-style-to"h( ~"get-style-from"h( @line~) ()~)~) ~"do-for-each-and-put-in"h( @f @line @dst~)&) @doc~)~)&)~)~)